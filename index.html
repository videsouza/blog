<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>VINICIVS</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        :root {
            --bg-primary: #ffffff;
            --bg-secondary: #f8f8f8;
            --text-primary: #1a1a1a;
            --text-secondary: #666;
            --accent: #2a2a2a;
            --border: #e0e0e0;
            --hover: #f0f0f0;
        }

        body {
            font-family: 'Georgia', 'Times New Roman', serif;
            background: var(--bg-primary);
            color: var(--text-primary);
            line-height: 1.7;
            overflow-x: hidden;
        }

        header {
            background: var(--bg-primary);
            border-bottom: 1px solid var(--border);
            position: sticky;
            top: 0;
            z-index: 100;
            backdrop-filter: blur(10px);
            background: rgba(255, 255, 255, 0.95);
        }

        .header-content {
            max-width: 1400px;
            margin: 0 auto;
            padding: 1.5rem 2rem;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .logo {
            font-size: 1.5rem;
            font-weight: 300;
            letter-spacing: 1px;
            color: var(--text-primary);
            text-decoration: none;
        }

        nav ul {
            display: flex;
            gap: 2rem;
            list-style: none;
        }

        nav a {
            color: var(--text-secondary);
            text-decoration: none;
            font-size: 0.95rem;
            transition: color 0.3s;
            font-family: 'Arial', sans-serif;
        }

        nav a:hover {
            color: var(--text-primary);
        }

        .menu-toggle {
            display: none;
            background: none;
            border: none;
            cursor: pointer;
            padding: 0.5rem;
        }

        .menu-toggle span {
            display: block;
            width: 24px;
            height: 2px;
            background: var(--text-primary);
            margin: 5px 0;
            transition: 0.3s;
        }

        .container {
            max-width: 1400px;
            margin: 0 auto;
            padding: 3rem 2rem;
            display: grid;
            grid-template-columns: 1fr 280px;
            gap: 4rem;
        }

        .main-content {
            min-width: 0;
        }

        .posts-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(320px, 1fr));
            gap: 2rem;
            margin-top: 2rem;
        }

        .post-card {
            background: var(--bg-secondary);
            border: 1px solid var(--border);
            transition: all 0.3s ease;
            overflow: hidden;
            display: flex;
            flex-direction: column;
        }

        .post-card:hover {
            transform: translateY(-4px);
            box-shadow: 0 8px 24px rgba(0, 0, 0, 0.08);
        }

        .post-thumbnail {
            width: 100%;
            height: 240px;
            background: linear-gradient(135deg, #f5f5f5 0%, #e8e8e8 100%);
            display: flex;
            align-items: center;
            justify-content: center;
            overflow: hidden;
        }

        .post-thumbnail img {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }

        .post-content {
            padding: 1.5rem;
            flex: 1;
            display: flex;
            flex-direction: column;
        }

        .post-meta {
            display: flex;
            gap: 1rem;
            margin-bottom: 0.75rem;
            font-size: 0.8rem;
            color: var(--text-secondary);
            font-family: 'Arial', sans-serif;
        }

        .post-date, .post-category {
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }

        .post-title {
            font-size: 1.4rem;
            margin-bottom: 0.75rem;
            font-weight: 400;
            line-height: 1.4;
        }

        .post-excerpt {
            color: var(--text-secondary);
            font-size: 0.95rem;
            margin-bottom: 1.5rem;
            flex: 1;
        }

        .read-more {
            display: inline-block;
            padding: 0.6rem 1.5rem;
            background: var(--accent);
            color: white;
            text-decoration: none;
            font-size: 0.85rem;
            text-transform: uppercase;
            letter-spacing: 1px;
            transition: all 0.3s;
            font-family: 'Arial', sans-serif;
            align-self: flex-start;
        }

        .read-more:hover {
            background: var(--text-primary);
        }

        .sidebar {
            position: sticky;
            top: 100px;
            height: fit-content;
        }

        .sidebar-section {
            margin-bottom: 3rem;
        }

        .sidebar-title {
            font-size: 0.85rem;
            text-transform: uppercase;
            letter-spacing: 2px;
            margin-bottom: 1.5rem;
            color: var(--text-primary);
            font-weight: 600;
            font-family: 'Arial', sans-serif;
        }

        .sidebar-list {
            list-style: none;
        }

        .sidebar-list li {
            margin-bottom: 0.75rem;
        }

        .sidebar-list a {
            color: var(--text-secondary);
            text-decoration: none;
            font-size: 0.95rem;
            transition: color 0.3s;
            display: flex;
            justify-content: space-between;
            padding: 0.5rem 0;
            font-family: 'Arial', sans-serif;
        }

        .sidebar-list a:hover {
            color: var(--text-primary);
        }

        .sidebar-list a.active {
            color: var(--text-primary);
            font-weight: 600;
        }

        .count {
            color: var(--text-secondary);
            font-size: 0.85rem;
        }

        .loading {
            text-align: center;
            padding: 3rem;
            color: var(--text-secondary);
        }

        footer {
            border-top: 1px solid var(--border);
            margin-top: 4rem;
            padding: 2rem;
            text-align: center;
            color: var(--text-secondary);
            font-size: 0.9rem;
            font-family: 'Arial', sans-serif;
        }

        @media (max-width: 1024px) {
            .container {
                grid-template-columns: 1fr;
                gap: 2rem;
            }

            .sidebar {
                position: static;
                display: grid;
                grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
                gap: 2rem;
            }
        }

        @media (max-width: 768px) {
            .header-content {
                padding: 1rem;
            }

            nav {
                position: fixed;
                top: 0;
                left: -100%;
                width: 80%;
                height: 100vh;
                background: var(--bg-primary);
                padding: 5rem 2rem 2rem;
                transition: left 0.3s;
                box-shadow: 2px 0 10px rgba(0, 0, 0, 0.1);
            }

            nav.active {
                left: 0;
            }

            nav ul {
                flex-direction: column;
                gap: 1.5rem;
            }

            .menu-toggle {
                display: block;
            }

            .posts-grid {
                grid-template-columns: 1fr;
            }

            .sidebar {
                grid-template-columns: 1fr;
            }

            .container {
                padding: 2rem 1rem;
            }
        }
    </style>
</head>
<body>
    <header>
        <div class="header-content">
            <a href="index.html" class="logo">Vinicius</a>
            <button class="menu-toggle" onclick="toggleMenu()">
                <span></span>
                <span></span>
                <span></span>
            </button>
            <nav id="nav">
                <ul>
                    <li><a href="index.html">In√≠cio</a></li>
                    <li><a href="#sobre">Sobre</a></li>
                    <li><a href="#livros">Livros</a></li>
                    <li><a href="#contato">Contato</a></li>
                </ul>
            </nav>
        </div>
    </header>

    <div class="container">
        <main class="main-content">
            <div class="posts-grid" id="postsGrid">
                <div class="loading">Carregando posts...</div>
            </div>
        </main>

        <aside class="sidebar">
            <div class="sidebar-section">
                <h3 class="sidebar-title">Temas</h3>
                <ul class="sidebar-list" id="categoriesList">
                    <li><a href="#" onclick="filterByCategory('all')"><span>Todos</span><span class="count" id="count-all">0</span></a></li>
                </ul>
            </div>

            <div class="sidebar-section">
                <h3 class="sidebar-title">Arquivo</h3>
                <ul class="sidebar-list" id="archiveList">
                </ul>
            </div>
        </aside>
    </div>

    <footer>
        <p>&copy; 2024 Seu Nome. Todos os direitos reservados.</p>
    </footer>

    <script>
        let allPosts = [];
        let currentFilter = { type: null, value: null };

        // Carregar posts do JSON
        async function loadPosts() {
            try {
                const response = await fetch('posts.json');
                allPosts = await response.json();
                
                // Ordenar por data (mais recente primeiro)
                allPosts.sort((a, b) => new Date(b.date) - new Date(a.date));
                
                renderPosts(allPosts);
                buildSidebar(allPosts);
            } catch (error) {
                console.error('Erro ao carregar posts:', error);
                document.getElementById('postsGrid').innerHTML = '<div class="loading">Erro ao carregar posts.</div>';
            }
        }

        // Renderizar posts
        function renderPosts(posts) {
            const grid = document.getElementById('postsGrid');
            
            if (posts.length === 0) {
                grid.innerHTML = '<div class="loading">Nenhum post encontrado.</div>';
                return;
            }
            
            grid.innerHTML = posts.map(post => `
                <article class="post-card">
                    <div class="post-thumbnail">
                        <img src="${post.thumbnail || 'https://via.placeholder.com/400x300/e8e8e8/666?text=Capa'}" alt="${post.title}">
                    </div>
                    <div class="post-content">
                        <div class="post-meta">
                            <span class="post-date">${formatDate(post.date)}</span>
                            <span class="post-category">${post.category}</span>
                        </div>
                        <h2 class="post-title">${post.title}</h2>
                        <p class="post-excerpt">${post.excerpt}</p>
                        <a href="${post.url}" class="read-more">Ler texto</a>
                    </div>
                </article>
            `).join('');
        }

        // Construir sidebar
        function buildSidebar(posts) {
            // Contar categorias
            const categories = {};
            const years = {};
            
            posts.forEach(post => {
                categories[post.category] = (categories[post.category] || 0) + 1;
                
                const year = new Date(post.date).getFullYear();
                years[year] = (years[year] || 0) + 1;
            });

            // Renderizar categorias
            const categoriesList = document.getElementById('categoriesList');
            document.getElementById('count-all').textContent = posts.length;
            
            Object.entries(categories)
                .sort(([a], [b]) => a.localeCompare(b))
                .forEach(([cat, count]) => {
                    const li = document.createElement('li');
                    li.innerHTML = `<a href="#" onclick="filterByCategory('${cat}'); return false;"><span>${cat}</span><span class="count">${count}</span></a>`;
                    categoriesList.appendChild(li);
                });

            // Renderizar anos
            const archiveList = document.getElementById('archiveList');
            Object.entries(years)
                .sort(([a], [b]) => b - a)
                .forEach(([year, count]) => {
                    const li = document.createElement('li');
                    li.innerHTML = `<a href="#" onclick="filterByYear('${year}'); return false;"><span>${year}</span><span class="count">${count}</span></a>`;
                    archiveList.appendChild(li);
                });
        }

        // Filtrar por categoria
        function filterByCategory(category) {
            currentFilter = { type: 'category', value: category };
            updateActiveFilter();
            
            if (category === 'all') {
                renderPosts(allPosts);
            } else {
                const filtered = allPosts.filter(post => post.category === category);
                renderPosts(filtered);
            }
            
            window.scrollTo({ top: 0, behavior: 'smooth' });
        }

        // Filtrar por ano
        function filterByYear(year) {
            currentFilter = { type: 'year', value: year };
            updateActiveFilter();
            
            const filtered = allPosts.filter(post => {
                return new Date(post.date).getFullYear() === parseInt(year);
            });
            renderPosts(filtered);
            
            window.scrollTo({ top: 0, behavior: 'smooth' });
        }

        // Atualizar destaque do filtro ativo
        function updateActiveFilter() {
            document.querySelectorAll('.sidebar-list a').forEach(link => {
                link.classList.remove('active');
            });
            
            if (currentFilter.type) {
                const activeLink = Array.from(document.querySelectorAll('.sidebar-list a'))
                    .find(link => link.textContent.includes(currentFilter.value));
                if (activeLink) activeLink.classList.add('active');
            }
        }

        // Formatar data
        function formatDate(dateString) {
            const date = new Date(dateString);
            const day = date.getDate().toString().padStart(2, '0');
            const months = ['Jan', 'Fev', 'Mar', 'Abr', 'Mai', 'Jun', 'Jul', 'Ago', 'Set', 'Out', 'Nov', 'Dez'];
            const month = months[date.getMonth()];
            const year = date.getFullYear();
            return `${day} ${month} ${year}`;
        }

        // Menu mobile
        function toggleMenu() {
            const nav = document.getElementById('nav');
            nav.classList.toggle('active');
        }

        document.querySelectorAll('nav a').forEach(link => {
            link.addEventListener('click', () => {
                document.getElementById('nav').classList.remove('active');
            });
        });

        document.addEventListener('click', (e) => {
            const nav = document.getElementById('nav');
            const toggle = document.querySelector('.menu-toggle');
            if (!nav.contains(e.target) && !toggle.contains(e.target)) {
                nav.classList.remove('active');
            }
        });

        // Carregar posts ao iniciar
        loadPosts();
    </script>
</body>
</html>
